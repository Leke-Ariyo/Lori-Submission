(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{59:function(e,t,a){},60:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var s=a(17),n=a(18),r=a(31),c=a(30),o=a(2),i=a(1),l=a.n(i),u=a(16),h=a.n(u),d=(a(59),a(60),a(7)),j=a.n(d),b=a(9),p=a(10),m=a(13),f=a(97),O=a(98),x=a(99),g=a(100),v=a(101),w=a(102),y=a(103),C=a(96);function k(){return Object(o.jsxs)("div",{className:"logo",children:[Object(o.jsx)(C.a,{style:{width:"1rem",height:"1rem",color:"#cc7722"},type:"grow"}),Object(o.jsxs)("h6",{children:["? ",Object(o.jsx)("span",{style:{fontSize:"20px",color:"#cc7722"},children:"?"})," ?"]}),Object(o.jsx)(C.a,{style:{width:"1rem",height:"1rem",color:"#cc7722"},type:"grow"})]})}var S=function(e){var t=e.isOpen,a=e.toggleClick,s=e.navClick,n=e.navigation,r=e.color;return Object(o.jsxs)(f.a,{color:"info",light:!0,expand:"md",className:"mb-3",children:[Object(o.jsxs)(O.a,{href:"/",children:["LORI BOOK STORE ",Object(o.jsx)(k,{})]}),Object(o.jsx)(x.a,{onClick:a}),Object(o.jsxs)(g.a,{isOpen:t,navbar:!0,children:[Object(o.jsx)(v.a,{className:"mr-auto",navbar:!0}),Object(o.jsx)(w.a,{children:Object(o.jsx)(y.a,{size:"sm",color:r,onClick:s,children:n})})]})]})};function _(e){return Object(o.jsxs)("svg",{className:e.className,width:e.width,height:e.height,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("path",{opacity:"0.3",d:"M14.2929 17.2686C13.9024 16.8781 13.9024 16.2449 14.2929 15.8544C14.6834 15.4639 15.3166 15.4639 15.7071 15.8544L19.7071 19.8544C20.0976 20.2449 20.0976 20.8781 19.7071 21.2686C19.3166 21.6592 18.6834 21.6592 18.2929 21.2686L14.2929 17.2686Z",fill:"black"}),Object(o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 11.5615C4 15.4275 7.13401 18.5615 11 18.5615C14.866 18.5615 18 15.4275 18 11.5615C18 7.69553 14.866 4.56152 11 4.56152C7.13401 4.56152 4 7.69553 4 11.5615ZM16 11.5615C16 14.3229 13.7614 16.5615 11 16.5615C8.23858 16.5615 6 14.3229 6 11.5615C6 8.8001 8.23858 6.56152 11 6.56152C13.7614 6.56152 16 8.8001 16 11.5615Z",fill:"black"})]})}function N(e){return Object(o.jsx)("svg",{width:e.width,height:e.height,viewBox:"0 0 22 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M0.0830078 9.71777C1.02301 4.59777 5.51001 0.717773 10.902 0.717773C16.294 0.717773 20.78 4.59777 21.721 9.71777C20.781 14.8378 16.294 18.7178 10.902 18.7178C5.51001 18.7178 1.02401 14.8378 0.0830078 9.71777ZM10.902 14.7178C12.2281 14.7178 13.4999 14.191 14.4375 13.2533C15.3752 12.3156 15.902 11.0439 15.902 9.71777C15.902 8.39169 15.3752 7.11992 14.4375 6.18224C13.4999 5.24456 12.2281 4.71777 10.902 4.71777C9.57593 4.71777 8.30416 5.24456 7.36647 6.18224C6.42879 7.11992 5.90201 8.39169 5.90201 9.71777C5.90201 11.0439 6.42879 12.3156 7.36647 13.2533C8.30416 14.191 9.57593 14.7178 10.902 14.7178ZM10.902 12.7178C10.1064 12.7178 9.3433 12.4017 8.78069 11.8391C8.21808 11.2765 7.90201 10.5134 7.90201 9.71777C7.90201 8.92212 8.21808 8.15906 8.78069 7.59645C9.3433 7.03384 10.1064 6.71777 10.902 6.71777C11.6977 6.71777 12.4607 7.03384 13.0233 7.59645C13.5859 8.15906 13.902 8.92212 13.902 9.71777C13.902 10.5134 13.5859 11.2765 13.0233 11.8391C12.4607 12.4017 11.6977 12.7178 10.902 12.7178Z",fill:"#8E919C"})})}function T(e){return Object(o.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-left",className:"svg-inline--fa fa-chevron-left fa-w-10",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",width:e.width,height:e.height,children:Object(o.jsx)("path",{fill:e.fill,d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"})})}function L(e){return Object(o.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-right",className:"svg-inline--fa fa-chevron-right fa-w-10",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",width:e.width,height:e.height,children:Object(o.jsx)("path",{fill:e.fill,d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"})})}var z=a(104),I=a(105),M=a(106),F=a(107),B=a(108),E=a(109),P=a(51),q=a(20),A=a.n(q),D="http://127.0.0.1:8000",Q=new(function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,[{key:"register",value:function(e){return A.a.post(D+"/api/customer/",e).then((function(e){return e}))}},{key:"login",value:function(e){return A.a.post(D+"/api/login/",e,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}).then((function(e){return e&&localStorage.setItem("user",JSON.stringify(e.data)),e}))}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"logout",value:function(){localStorage.removeItem("user")}}]),e}()),R=a(11),U=a(21),J=function(){var e=Object(R.f)(),t=Object(i.useState)(""),a=Object(m.a)(t,2),s=a[0],n=a[1],r=Object(i.useState)(""),c=Object(m.a)(r,2),l=c[0],u=c[1],h=Object(i.useState)(!1),d=Object(m.a)(h,2),f=d[0],O=d[1],x=Object(i.useState)({email:!0,password:!0}),g=Object(m.a)(x,2),v=g[0],w=g[1],k=Object(i.useState)("Enter email"),_=Object(m.a)(k,2),T=_[0],L=_[1],q=Object(i.useState)("password"),A=Object(m.a)(q,2),D=A[0],J=A[1],V=Object(i.useState)(""),G=Object(m.a)(V,2),Z=G[0],Y=G[1],$=Object(i.useState)(!1),W=Object(m.a)($,2),H=W[0],K=W[1],X=function(){var t=Object(p.a)(j.a.mark((function t(a){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),Y(""),r=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,""!==s&&""!==l){t.next=7;break}w(Object(b.a)(Object(b.a)({},v),{},{email:!1,password:!1})),t.next=17;break;case 7:if(!1!==r.test(s)){t.next=13;break}w(Object(b.a)(Object(b.a)({},v),{},{email:!1})),L("Enter valid email"),n(""),t.next=17;break;case 13:return O(!0),c={email:s,password:l},t.next=17,Q.login(c).then((function(){e.push("/home")}),(function(e){var t=e&&(e.response||e.message||e.toString());Y(t.data.detail)})).finally((function(){return O(!1)}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)(S,{isOpen:H,toggleClick:function(){K(!H)},navigation:"Create Account",navClick:function(){return e.push("/register")},color:"primary"}),Object(o.jsxs)("div",{className:"auth_form_container",children:[Object(o.jsx)("div",{className:"form_left text-center",children:Object(o.jsx)("div",{className:"backdrop",children:Object(o.jsxs)("div",{className:"form_left_text",children:[Object(o.jsx)("h1",{className:"text-white",children:"Welcome Back!"}),Object(o.jsx)("h6",{className:"text-white normal_text",children:"A room without books is like a body without soul!"}),Object(o.jsx)("h6",{className:"text-white tiny_text mt-4",children:"Don't have an account? Register"}),Object(o.jsx)(U.b,{to:"/register",children:Object(o.jsx)(y.a,{color:"info",size:"sm",children:"Create Account"})})]})})}),Object(o.jsx)("div",{style:{width:"100%",marginBottom:"2em"},children:Object(o.jsxs)(z.a,{className:"auth_form",onSubmit:X,children:[Object(o.jsx)("h1",{className:"title_text",children:"Login"}),Object(o.jsx)("h6",{className:"error_text",style:{height:"16px"},children:Z}),Object(o.jsxs)(I.a,{children:[Object(o.jsx)(M.a,{className:"label",children:"Email"}),Object(o.jsx)(F.a,{type:"email",placeholder:T,value:s,onChange:function(e){return n(e.target.value)},onFocus:function(){w(Object(b.a)(Object(b.a)({},v),{},{email:!0}))},className:v.email?"default_input":"error_input"})]}),Object(o.jsxs)(I.a,{className:"mb-3",children:[Object(o.jsx)(M.a,{className:"label",children:"Password"}),Object(o.jsxs)(B.a,{children:[Object(o.jsx)(F.a,{placeholder:"Enter password",type:D,value:l,onChange:function(e){return u(e.target.value)},onFocus:function(){w(Object(b.a)(Object(b.a)({},v),{},{password:!0}))},className:v.password?"default_input":"error_input"}),Object(o.jsx)(E.a,{addonType:"append",style:{cursor:"pointer"},onClick:function(){J("password"===D?"text":"password")},children:Object(o.jsx)(P.a,{children:Object(o.jsx)(N,{width:"1.1em",height:"1.1em"})})})]})]}),Object(o.jsxs)(y.a,{className:"mt-4",type:"submit",color:"success",size:"sm",block:!0,disabled:f,children:["Login",f&&Object(o.jsx)(C.a,{color:"light",size:"sm",className:"ml-1"})]})]})})]})]})},V=function(){var e=Object(R.f)(),t=Object(i.useState)(""),a=Object(m.a)(t,2),s=a[0],n=a[1],r=Object(i.useState)(""),c=Object(m.a)(r,2),l=c[0],u=c[1],h=Object(i.useState)(""),d=Object(m.a)(h,2),f=d[0],O=d[1],x=Object(i.useState)(""),g=Object(m.a)(x,2),v=g[0],w=g[1],k=Object(i.useState)(!1),_=Object(m.a)(k,2),T=_[0],L=_[1],q=Object(i.useState)({email:!0,password:!0,first_name:!0,last_name:!0}),A=Object(m.a)(q,2),D=A[0],J=A[1],V=Object(i.useState)("Enter email"),G=Object(m.a)(V,2),Z=G[0],Y=G[1],$=Object(i.useState)("password"),W=Object(m.a)($,2),H=W[0],K=W[1],X=Object(i.useState)(""),ee=Object(m.a)(X,2),te=ee[0],ae=ee[1],se=Object(i.useState)(!1),ne=Object(m.a)(se,2),re=ne[0],ce=ne[1],oe=function(){var t=Object(p.a)(j.a.mark((function t(a){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),ae(""),r=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,""!==s&&""!==l&&""!==f&&""!==v){t.next=7;break}J(Object(b.a)(Object(b.a)({},D),{},{email:!1,password:!1,first_name:!1,last_name:!1})),t.next=17;break;case 7:if(!1!==r.test(s)){t.next=13;break}J(Object(b.a)(Object(b.a)({},D),{},{email:!1})),Y("Enter valid email"),n(""),t.next=17;break;case 13:return L(!0),c={email:s,password:l,first_name:f,last_name:v,username:f+v+Math.floor(1e4*Math.random()).toString()},t.next=17,Q.register(c).then((function(){e.push("/login")}),(function(e){var t=e&&(e.response||e.message||e.toString()),a=t.data.first_name||t.data.last_name||t.data.password||t.data.email;ae(a)})).finally((function(){return L(!1)}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)(S,{isOpen:re,toggleClick:function(){ce(!re)},navigation:"Login",navClick:function(){return e.push("/login")},color:"primary"}),Object(o.jsxs)("div",{className:"auth_form_container",children:[Object(o.jsx)("div",{className:"form_left text-center",children:Object(o.jsx)("div",{className:"backdrop",children:Object(o.jsxs)("div",{className:"form_left_text",children:[Object(o.jsx)("h1",{className:"text-white",children:"Welcome!"}),Object(o.jsx)("h6",{className:"text-white normal_text",children:"Ready for some quiz ?"}),Object(o.jsx)("h6",{className:"text-white tiny_text mt-4",children:"Already have an account? Login"}),Object(o.jsx)(U.b,{to:"/login",children:Object(o.jsx)(y.a,{color:"info",size:"sm",children:"Login"})})]})})}),Object(o.jsx)("div",{style:{width:"100%"},children:Object(o.jsxs)(z.a,{className:"auth_form",onSubmit:oe,children:[Object(o.jsx)("h1",{className:"title_text",children:"Register"}),Object(o.jsx)("h6",{className:"error_text",style:{height:"16px"},children:te}),Object(o.jsxs)(I.a,{children:[Object(o.jsx)(M.a,{className:"label",children:"First Name"}),Object(o.jsx)(F.a,{placeholder:"Enter first name",type:"name",value:f,onChange:function(e){return O(e.target.value)},onFocus:function(){J(Object(b.a)(Object(b.a)({},D),{},{first_name:!0}))},className:D.first_name?"default_input":"error_input"})]}),Object(o.jsxs)(I.a,{children:[Object(o.jsx)(M.a,{className:"label",children:"Last Name"}),Object(o.jsx)(F.a,{placeholder:"Enter last name",type:"name",value:v,onChange:function(e){return w(e.target.value)},onFocus:function(){J(Object(b.a)(Object(b.a)({},D),{},{last_name:!0}))},className:D.last_name?"default_input":"error_input"})]}),Object(o.jsxs)(I.a,{children:[Object(o.jsx)(M.a,{className:"label",children:"Email"}),Object(o.jsx)(F.a,{type:"email",placeholder:Z,value:s,onChange:function(e){return n(e.target.value)},onFocus:function(){J(Object(b.a)(Object(b.a)({},D),{},{email:!0}))},className:D.email?"default_input":"error_input"})]}),Object(o.jsxs)(I.a,{className:"mb-3",children:[Object(o.jsx)(M.a,{className:"label",children:"Password"}),Object(o.jsxs)(B.a,{children:[Object(o.jsx)(F.a,{placeholder:"Enter password",type:H,value:l,onChange:function(e){return u(e.target.value)},onFocus:function(){J(Object(b.a)(Object(b.a)({},D),{},{password:!0}))},className:D.password?"default_input":"error_input"}),Object(o.jsx)(E.a,{addonType:"append",style:{cursor:"pointer"},onClick:function(){K("password"===H?"text":"password")},children:Object(o.jsx)(P.a,{children:Object(o.jsx)(N,{width:"1.1em",height:"1.1em"})})})]})]}),Object(o.jsxs)(y.a,{type:"submit",className:"mb-5 mt-4",color:"success",size:"sm",block:!0,disabled:T,children:["Continue",T&&Object(o.jsx)(C.a,{color:"light",size:"sm",className:"ml-1"})]})]})})]})]})},G="http://127.0.0.1:8000",Z=new(function(){function e(){Object(s.a)(this,e)}return Object(n.a)(e,[{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"formSubmit",value:function(){var e=Object(p.a)(j.a.mark((function e(t,a){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("user");case 2:return s=e.sent,s=JSON.parse(s),e.abrupt("return",A.a.post(G+a,t,{headers:{Authorization:s&&s.access_token?"Bearer ".concat(s.access_token):""}}).then((function(e){if(e.data)return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getInfo",value:function(){var e=Object(p.a)(j.a.mark((function e(t,a){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("user");case 2:return s=e.sent,s=JSON.parse(s),e.abrupt("return",A.a.get(G+a,t).then((function(e){if(e.data)return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"formPatch",value:function(){var e=Object(p.a)(j.a.mark((function e(t,a){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("user");case 2:return s=e.sent,s=JSON.parse(s),e.abrupt("return",A.a.patch(G+a,t,{headers:{Authorization:s&&s.access_token?"Bearer ".concat(s.access_token):""}}).then((function(e){if(e.data)return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteInfo",value:function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("user");case 2:return a=e.sent,a=JSON.parse(a),e.abrupt("return",A.a.delete(G+t,{headers:{Authorization:a&&a.access_token?"Bearer ".concat(a.access_token):""}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Y=a(24),$=a(36),W=a(113);function H(e){var t=e.index,a=e.question,s=e.options,n=e.backClick,r=(e.prevClick,e.prevDisabled,e.nextClick),c=e.nextDisabled;return Object(o.jsxs)("div",{className:"home_body",children:[Object(o.jsxs)("nav",{className:"quiz_header_section",children:[Object(o.jsxs)(y.a,{size:"sm",color:"danger",onClick:n,style:{width:"80px",display:"flex",alignItems:"center"},children:[Object(o.jsx)(T,{width:"1em",height:"1em",fill:"white"}),Object(o.jsx)("h6",{style:{margin:"7px 0 7px 5px"},children:"Back"})]}),Object(o.jsx)(k,{}),Object(o.jsxs)("h6",{children:[t,"/10"]})]}),Object(o.jsxs)("div",{className:"quiz_body",children:[Object(o.jsx)("div",{className:"questions_section",children:a}),Object(o.jsx)("div",{className:"options_container",children:s}),Object(o.jsx)("div",{className:"quiz_nav_body",children:Object(o.jsxs)(y.a,{size:"sm",color:"primary",onClick:r,disabled:c,children:[Object(o.jsx)("h6",{children:"Next"}),Object(o.jsx)(L,{width:"1em",height:"1em",fill:"white"})]})})]})]})}var K=function(e){e.placeholder,e.barClassName;var t=e.onChange,a=e.value;return Object(o.jsx)("div",{style:{width:"60%"},children:Object(o.jsxs)("div",{className:"search_bar",children:[Object(o.jsx)("input",{placeholder:"Search",onChange:t,value:a}),Object(o.jsx)("button",{className:"helper_button",children:Object(o.jsx)(_,{width:"1.2em",height:"1.2em"})})]})})},X=a(114),ee=a(110),te=a(111),ae=a(112);function se(e){var t=e.modal,a=e.toggle,s=e.className,n=e.title,r=e.body,c=e.showFooter,i=e.action;return Object(o.jsxs)(X.a,{isOpen:t,toggle:a,className:s,children:[Object(o.jsx)(ee.a,{toggle:a,children:n}),Object(o.jsx)(te.a,{children:r}),c&&Object(o.jsxs)(ae.a,{children:[Object(o.jsx)(y.a,{color:"danger",onClick:a,children:i}),Object(o.jsx)(y.a,{color:"secondary",onClick:a,children:"Cancel"})]})]})}var ne=a(53);function re(e){var t=e.className,a=e.options,s=e.value,n=e.placeholder,r=e.handleChange,c=e.isLoading,i=e.defaultInputValue,l=e.showError,u=e.onFocus,h=e.errorMessage;return Object(o.jsxs)("div",{className:"react-select-all-container mb-3 ".concat(t),children:[Object(o.jsx)("div",{className:"error_message_text",style:{marginTop:""},children:l&&Object(o.jsx)("h6",{style:{color:"#F01919"},children:h})}),Object(o.jsx)(ne.a,{className:"react-select-container",classNamePrefix:"react-select",hideSelectedOptions:"true",isFocussed:!0,placeholder:n,closeMenuOnSelect:!0,isSelected:!0,options:a,backspaceRemovesValue:!0,onChange:r,value:s,isLoading:c,defaultInputValue:i,onFocus:u})]})}var ce=a(52),oe=a.n(ce),ie=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleGetTournaments=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getInfo(null,"/api/rented-books/".concat(n.state.userId)).then(function(){var e=Object(p.a)(j.a.mark((function e(t){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0;a<t.data.length;a++)t.data[a].show=!0;s=t.data.rented_books.slice(n.state.offset,n.state.offset+n.state.perPage),n.setState({pageCount:Math.ceil(t.data.length/n.state.perPage),bookStoreList:s,allbookStoreList:t.data.rented_books,total_fee:t.data.total_fee});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){(e&&e.response&&401===e.response.status||e&&e.response&&404===e.response.status||e&&e.response&&403===e.response.status||e&&e.response&&503===e.response.status)&&(n.props.history.push("/login"),Q.logout()),n.setState({error:e})})).finally((function(){n.setState({pageLoading:!1})}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))),n.handleGetCategoryOptions=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({categoryLoading:!0}),e.next=3,Z.getInfo(null,"/api/category").then(function(){var e=Object(p.a)(j.a.mark((function e(t){var a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.setState({currentCategory:t.data}),a=function(e){n.setState((function(a){return{categoryOptions:[].concat(Object($.a)(a.categoryOptions),[{value:t&&t.data&&t.data[e]&&t.data[e].id,label:t&&t.data&&t.data[e]&&t.data[e].name}])}}))},s=0;s<t.data.length;s++)a(s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){(e&&e.response&&401===e.response.status||e&&e.response&&404===e.response.status||e&&e.response&&403===e.response.status||e&&e.response&&503===e.response.status)&&(n.props.history.push("/login"),Q.logout()),n.setState({error:e})})).finally((function(){n.setState({categoryLoading:!1})}));case 3:case"end":return e.stop()}}),e)}))),n.handlePageClick=function(e){var t=e.selected,a=t*n.state.perPage;n.setState({currentPage:t,offset:a},(function(){n.loadMoreData()}))},n.loadMoreData=function(){var e=n.state.allbookStoreList,t=e.slice(n.state.offset,n.state.offset+n.state.perPage);n.setState({pageCount:Math.ceil(e.length/n.state.perPage),bookStoreList:t})},n.toggle=function(e,t,a){n.setState(Object(Y.a)({},e,t)),a&&n.setState({tournamentSuccess:!0,categorySuccess:!0,difficultySuccess:!0,createText:"Borrow !",updateText:"Update Tournament",deleteText:"Yes",createColor:"primary"})},n.toggleActionData=function(e,t){var a=Object($.a)(n.state.bookStoreList);a[e][t]=!a[e][t],n.setState({values:a})},n.showBookSelect=function(){for(var e=[],t=0;t<n.state.currentCategory[n.state.category-1].book_category.length;t++)e.push({value:n.state.currentCategory&&n.state.currentCategory&&n.state.currentCategory[n.state.category-1].book_category[t].id,label:n.state.currentCategory&&n.state.currentCategory[n.state.category-1]&&n.state.currentCategory[n.state.category-1].book_category[t].name});n.setState({bookOptions:e})},n.handleInputChange=function(){var e=Object(p.a)(j.a.mark((function e(t,a,s){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState(Object(Y.a)({},t,a));case 2:s&&n.showBookSelect();case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),n.handleSuccess=function(){n.setState((function(e){return Object(b.a)(Object(b.a)({},e),{},{tournamentSuccess:!1,categorySuccess:!1,difficultySuccess:!1})}))},n.handleFocus=function(e){n.setState((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e,!0))}))},n.handleCreateTournament=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.state.book){e.next=5;break}n.handleSuccess(),e.next=9;break;case 5:return n.setState({createLoading:!0}),a={book:n.state.book,customer:n.state.userId},e.next=9,Z.formSubmit(a,"/api/lend-book/").then(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({createText:"Created",createColor:"success",createLoading:!1});case 1:case"end":return e.stop()}}),e)})))).catch((function(e){(e&&e.response&&401===e.response.status||e&&e.response&&404===e.response.status||e&&e.response&&403===e.response.status||e&&e.response&&503===e.response.status)&&(n.props.history.push("/login"),Q.logout()),n.setState({createText:"Error",createColor:"danger",createLoading:!1});var t=e&&(e.response||e.message||e.toString());n.setState({createError:t.data.error[0]})})).finally(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.handleGetTournaments();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdateTournament=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.state.tournament&&""!==n.state.category&&""!==n.state.difficulty){e.next=5;break}n.handleSuccess(),e.next=9;break;case 5:return n.setState({createLoading:!0}),a={difficulty:n.state.difficulty,category:n.state.category,name:n.state.tournament,user:n.state.userId},e.next=9,Z.formPatch(a,"/api/quiz-tournaments/".concat(n.state.currentTournament.id)).then(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({updateText:"Updated",createColor:"success",createLoading:!1});case 1:case"end":return e.stop()}}),e)})))).catch((function(e){(e&&e.response&&401===e.response.status||e&&e.response&&404===e.response.status||e&&e.response&&403===e.response.status||e&&e.response&&503===e.response.status)&&(n.props.history.push("/login"),Q.logout()),n.setState({updateText:"Error",createColor:"danger",createLoading:!1});var t=e&&(e.response||e.message||e.toString());n.setState({createError:t.data})})).finally(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.handleGetTournaments();case 2:case"end":return e.stop()}}),e)}))));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderViews=function(e){switch(e){case"showTournaments":window.scrollTo({top:0}),n.setState({showTournaments:!0,showQuiz:!1});break;case"showQuiz":window.scrollTo({top:0}),n.setState({showQuiz:!0,showTournaments:!1});break;default:n.setState({showTournaments:!0,showQuiz:!1})}},n.state={userId:"",userName:"",searchQuery:"",isOpen:!1,dropdownOpen:!1,showCreateModal:!1,modalType:"",showUpdateModal:!1,tournament:"",category:"",book:"",difficulty:"",currentCategory:[],tournamentSuccess:!0,first_nameSuccess:!0,last_nameSuccess:!0,categorySuccess:!0,difficultySuccess:!0,categoryOptions:[],bookStoreList:[],allbookStoreList:[],bookOptions:[],offset:0,perPage:100,currentPage:0,pageLoading:!1,categoryLoading:!1,createLoading:!1,createText:"Borrow",updateText:"Update Tournament",deleteText:"Yes",createColor:"primary",error:"",showTournaments:!0,showQuiz:!1,currentTournament:{},currentQuestion:0,selectedOption:"",selectedAnswer:{},correctAnswers:0,showFinalModal:!1},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("user"))){e.next=5;break}this.props.history.push("/login"),e.next=11;break;case 5:return e.next=7,this.handleGetCategoryOptions();case 7:return e.next=9,this.setState({userId:t.id,userName:t.first_name+" "+t.last_name});case 9:return e.next=11,this.handleGetTournaments();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.userName,s=t.isOpen,n=t.showCreateModal,r=t.bookStoreList,c=t.categoryOptions,i=t.showTournaments,l=t.showQuiz,u=t.currentTournament,h=t.currentQuestion,d=t.selectedOption,j=t.correctAnswers,b=t.modalType;return Object(o.jsxs)("div",{className:"home_page_container",children:[Object(o.jsx)(S,{isOpen:s,toggleClick:function(){return e.toggle("isOpen",!e.state.isOpen)},navClick:function(){Q.logout(),e.props.history.push("/login")},navigation:"Logout",color:"danger"}),i&&Object(o.jsxs)("div",{className:"home_body",children:[Object(o.jsxs)("div",{className:"home_section_one",children:[Object(o.jsxs)(y.a,{className:"create_button",color:"success",size:"md",style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){e.toggle("showCreateModal",!e.state.showCreateModal,!0)},children:[Object(o.jsx)("span",{style:{fontWeight:"bold",marginRight:"5px"},children:"+"}),Object(o.jsx)("h6",{children:"Borrow new book!"})]}),Object(o.jsx)(K,{value:this.state.searchQuery,onChange:function(t){return e.handleInputChange("searchQuery",t.target.value)}})]}),Object(o.jsx)("h5",{style:{color:"lightblue"},children:Object(o.jsxs)("center",{children:["Hi, ",this.state.userName]})}),Object(o.jsx)("h5",{style:{color:"lightblue"},children:Object(o.jsxs)("center",{children:["Your total outstanding charge is: $",this.state.total_fee]})}),Object(o.jsx)("h6",{className:"table_container-text",children:Object(o.jsx)("center",{children:"BOOKS YOU BORROWED"})}),Object(o.jsxs)("div",{className:"table_container",children:[Object(o.jsxs)(W.a,{hover:!0,responsive:!0,children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Book Name"}),Object(o.jsx)("th",{children:"Category"}),Object(o.jsx)("th",{children:"Date Borrowed"}),Object(o.jsx)("th",{children:"Unit Charge"}),Object(o.jsx)("th",{children:"Accumulated Charge"})]})}),Object(o.jsx)("tbody",{children:r.filter((function(t){return""===e.state.searchQuery?t:!("".concat(t&&t.book&&t.book.name.toLowerCase()).includes(e.state.searchQuery.toLowerCase())||t&&t.book.category&&t.book.category.name.toLowerCase().includes(e.state.searchQuery.toLowerCase()))||t})).map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"row",children:e.book.name}),Object(o.jsx)("td",{children:e.book.category.name}),Object(o.jsx)("td",{children:e.date_logged.slice(0,10)}),Object(o.jsxs)("td",{children:["$",e.book.category.price.toFixed(1)]}),Object(o.jsxs)("td",{children:["$",e.rental_charge.toFixed(1)]})]},"tournament"+t)}))})]}),0!==r.length&&Object(o.jsx)(oe.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})]})]}),l&&Object(o.jsx)(H,{index:h<10&&h+1||"---",question:u&&u.questions&&u.questions.map((function(e,t){return t!==h||Object(o.jsx)("h6",{children:e.question_text},"question"+t)})),options:u&&u.questions[h]&&u.questions[h].choice_text.map((function(t,a){return Object(o.jsx)("button",{className:"single_option ".concat(d.includes(t.choice_text)?"single_option_active":""),onClick:function(){e.handleAnswerSelect(t.choice_text),e.setState({selectedAnswer:t})},children:Object(o.jsx)("h6",{children:t.choice_text})},"option"+a)})),backClick:function(){e.renderViews("showTournaments")},nextClick:this.handleNext,nextDisabled:11===h}),Object(o.jsx)(se,{modal:10===h,toggle:this.finishQuiz,className:"result_modal",showHeader:!0,title:"Quiz Result",body:Object(o.jsxs)("div",{children:[Object(o.jsx)("h6",{children:"Your score"}),Object(o.jsx)("h6",{style:{color:"#17a2b8",fontSize:"24px"},children:j/10*100&&j/10*100+"%"||"0%"}),Object(o.jsx)("div",{children:u&&u.questions&&u.questions.map((function(e,t){return Object(o.jsxs)("div",{children:[Object(o.jsx)(M.a,{children:"Question ".concat(t+1)}),Object(o.jsxs)("h6",{children:[" ",e.question_text]}),Object(o.jsx)(M.a,{children:"Options"}),Object(o.jsx)("div",{children:e.choice_text.map((function(e,t){return Object(o.jsx)("button",{className:"single_option ".concat(e.correct_answer?"single_option_correct":""),children:Object(o.jsx)("h6",{children:e.choice_text})},"option"+t)}))})]},"item"+t)}))}),Object(o.jsx)(y.a,{color:"info",block:!0,className:"mt-3",onClick:this.finishQuiz,children:"Finish"})]})}),Object(o.jsx)(se,{modal:n,toggle:function(){e.toggle("showCreateModal",!e.state.showCreateModal,!0),e.setState({modalType:"",tournament:"",category:"",difficulty:""})},className:"form_modal",title:("update"===b?"Update Quiz Tournament":"delete"===b&&"Delete Tournament")||"Borrow a Book",showHeader:!0,body:"delete"===b&&Object(o.jsxs)("div",{children:[Object(o.jsxs)("h6",{children:["Are you sure you want to delete"," "+this.state.currentTournament.name]}),Object(o.jsxs)("div",{className:"delete_prompt_container",children:[Object(o.jsx)(y.a,{color:"danger",size:"sm",disabled:this.state.pageLoading,onClick:function(){e.handleDeleteTournament(),e.setState({showCreateModal:!1})},children:this.state.deleteText}),Object(o.jsx)(y.a,{color:"primary",size:"sm",onClick:function(){e.setState({showCreateModal:!1,currentTournament:{}})},children:"Cancel"})]})]})||Object(o.jsxs)(z.a,{className:"create_form",onSubmit:"update"===b&&this.handleUpdateTournament||this.handleCreateTournament,children:[Object(o.jsx)("h6",{className:"error_text",style:{height:"16px"},children:this.state.createError}),Object(o.jsx)(F.a,{type:"name",disabled:!0,className:this.state.last_nameSuccess?"mb-3":"mb-3 error_input",value:"update"===b?u.creator.first_name+" "+u.creator.last_name:a,style:{textTransform:"capitalize"}}),Object(o.jsx)(re,{defaultInputValue:"update"===b&&u.category.category_name||"",placeholder:"Select Category",options:c,handleChange:function(t){return e.handleInputChange("category",t.value,!0)},onFocus:function(){return e.handleFocus("categorySuccess")},className:this.state.categorySuccess?"sucess_select":"error_select"}),this.state.category&&Object(o.jsx)(re,{defaultInputValue:"update"===b&&u.difficulty||"",placeholder:"Choose Books",options:this.state.bookOptions,handleChange:function(t){return e.handleInputChange("book",t.value)},onFocus:function(){return e.handleFocus("difficultySuccess")},className:this.state.difficultySuccess?"sucess_select":"error_select"}),Object(o.jsxs)(y.a,{type:"submit",className:"mb-4 mt-4",color:this.state.createColor,disabled:this.state.createLoading,size:"sm",block:!0,children:["update"===b&&this.state.updateText||this.state.createText,this.state.createLoading&&Object(o.jsx)(C.a,{color:"light",size:"sm",className:"ml-1"})]})]})})]})}}]),a}(l.a.Component),le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,115)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))},ue=(a(94),function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isAuth:Z.getCurrentUser()&&Z.getCurrentUser().id},n}return Object(n.a)(a,[{key:"render",value:function(){return this.state.isAuth?Object(o.jsx)(ie,{}):Object(o.jsx)(J,{})}}]),a}(l.a.Component));h.a.render(Object(o.jsx)(U.a,{children:Object(o.jsxs)(R.c,{children:[Object(o.jsx)(R.a,{exact:!0,path:"/",component:ue}),Object(o.jsx)(R.a,{exact:!0,path:"/login",component:J}),Object(o.jsx)(R.a,{exact:!0,path:"/register",component:V}),Object(o.jsx)(R.a,{exact:!0,path:"/home",component:ie}),Object(o.jsx)(R.a,{path:"*",children:Object(o.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(o.jsx)("h2",{children:"404 Not Found"})})})]})}),document.getElementById("root")),le()}},[[95,1,2]]]);
//# sourceMappingURL=main.0b4465ec.chunk.js.map